{% extends 'front/base.html' %}

{% block content %}
<div class="quiz-result-page container">
    <h2 class="mb-3">R√©sultat du quiz : {{ quiz.title }}</h2>
    <p>Score : <span class="fw-bold">{{ score }} / {{ total }}</span></p>
    <p><strong>Recommandation :</strong> {{ recommendation }}</p>
    <hr>
    <h3>R√©sultats d√©taill√©s</h3>
    <p>Vous avez r√©pondu √† {{ total }} questions.</p>
    {% for question, correct, answer, explanation, user_answer in results %}
        <div class="quiz-result mb-4 p-3">
            <h4>{{ question.text }}</h4>
            {% if correct %}
                <p class="correct">‚úÖ Bonne r√©ponse !</p>
            {% else %}
                <p class="incorrect">‚ùå Mauvaise r√©ponse. Votre r√©ponse : {{ user_answer }}</p>
            {% endif %}
            <p><strong>R√©ponse correcte :</strong> {{ answer }}</p>
            <p><em>Explication :</em> {{ explanation }}</p>
        </div>
    {% endfor %}
    <p>
        <a href="{% url 'select_quiz' %}" class="btn-link">‚Üê Revenir √† la liste des quiz</a>
    </p>
    <p>
        <a href="{% url 'start_quiz' quiz.id %}" class="btn-link">üîÑ Recommencer ce quiz</a>
    </p>
</div>
{% endblock %}
